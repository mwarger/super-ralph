{"id":"bd-3fk","title":"Dep Chain Smoke Test","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-23T23:18:14.075889Z","created_by":"mat","updated_at":"2026-02-23T23:18:14.075889Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3fk.1","title":"Step 1: Add SMOKE_A comment","description":"Add a single-line comment at the very top of src/types.ts (before any existing comments) that says exactly: // SMOKE_A. Do not change anything else. When done, call the task_complete tool with status 'complete'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T23:18:20.560486Z","created_by":"mat","updated_at":"2026-02-23T23:19:30.662684Z","closed_at":"2026-02-23T23:19:30.662670Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3fk.1","depends_on_id":"bd-3fk","type":"parent-child","created_at":"2026-02-23T23:18:20.560486Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3fk.2","title":"Step 2: Add SMOKE_B comment","description":"Add a single-line comment at the very top of src/types.ts (before any existing comments, including // SMOKE_A which should already be there) that says exactly: // SMOKE_B. Do not change anything else. When done, call the task_complete tool with status 'complete'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T23:18:25.615102Z","created_by":"mat","updated_at":"2026-02-23T23:19:57.222260Z","closed_at":"2026-02-23T23:19:57.222246Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3fk.2","depends_on_id":"bd-3fk","type":"parent-child","created_at":"2026-02-23T23:18:25.615102Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3fk.2","depends_on_id":"bd-3fk.1","type":"blocks","created_at":"2026-02-23T23:18:36.611801Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3fk.3","title":"Step 3: Verify both comments exist","description":"Read src/types.ts and verify that both // SMOKE_B and // SMOKE_A comments exist at the top of the file (in that order, B before A). If they are both present, call the task_complete tool with status 'complete'. If either is missing, call task_complete with status 'failed' and explain what's missing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T23:18:31.280566Z","created_by":"mat","updated_at":"2026-02-23T23:20:04.686980Z","closed_at":"2026-02-23T23:20:04.686966Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3fk.3","depends_on_id":"bd-3fk","type":"parent-child","created_at":"2026-02-23T23:18:31.280566Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3fk.3","depends_on_id":"bd-3fk.1","type":"blocks","created_at":"2026-02-23T23:18:36.631157Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3fk.3","depends_on_id":"bd-3fk.2","type":"blocks","created_at":"2026-02-23T23:18:36.649584Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3qe","title":"All-in-One OpenCode UX","description":"Make super-ralph runnable entirely from inside OpenCode. Add cli.path to config, update skills/commands to use bun run cli_path, make doctor interactive, add prereq validation to init. Design: docs/plans/2026-02-23-all-in-one-opencode-ux-design.md Plan: docs/plans/2026-02-23-all-in-one-opencode-ux-plan.md","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-24T04:32:08.125530Z","created_by":"mat","updated_at":"2026-02-24T04:43:37.227485Z","closed_at":"2026-02-24T04:43:37.227470Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3qe.1","title":"Task 1: Add cli.path to types and config","description":"Add a [cli] section with a path field to the config system.\n\n## Files to modify\n- src/types.ts — Add `cli: { path: string }` to LoopConfig interface (after the `opencode` property)\n- src/config.ts — Add `cli: { path: \"\" }` to DEFAULT_CONFIG, add cli merge in loadConfig return\n- templates/super-ralph-config.toml — Append [cli] section with empty path and comment\n- .super-ralph/config.toml — Append [cli] section with path = \"/Users/mat/dev/farsight/agent-framework/src/index.ts\"\n\n## Acceptance Criteria\n1. LoopConfig type has cli.path property\n2. loadConfig() merges cli section from TOML\n3. Both config files have [cli] section\n4. `bun run typecheck` passes\n\n## Quality Gates\n- `bun run typecheck` must pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-24T04:32:17.482263Z","created_by":"mat","updated_at":"2026-02-24T04:40:37.874014Z","closed_at":"2026-02-24T04:40:37.874001Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qe.1","depends_on_id":"bd-3qe","type":"parent-child","created_at":"2026-02-24T04:32:17.482263Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3qe.2","title":"Task 2: Make doctor print actionable fix commands","description":"Rewrite the cmdDoctor() function in src/index.ts to print specific fix commands for each failing check, and add new checks.\n\n## Files to modify\n- src/index.ts — Rewrite cmdDoctor()\n\n## Changes\n1. Add bun version check at the start (informational since we're running in bun)\n   - On fail: Fix: curl -fsSL https://bun.sh/install | bash\n2. For br CLI fail: Fix: curl -fsSL \"https://raw.githubusercontent.com/Dicklesworthstone/beads_rust/main/install.sh?$(date +%s)\" | bash\n3. For project not initialized fail: Fix: /superralph:init\n4. For prompt template missing fail: Fix: /superralph:init\n5. For config not found: Fix: /superralph:init\n6. For OpenCode server not reachable: Fix: opencode serve --port 4096\n7. For plugin missing: Fix: /superralph:init\n8. Add new check: .beads/ workspace exists. On fail: Fix: br init\n9. Add new check: cli.path is set in config AND the file exists on disk\n   - If path set but file missing: Fix: /superralph:init to re-detect\n   - If path not set: Fix: /superralph:init to set [cli] path\n\n## Acceptance Criteria\n1. Every failing check prints a \"  Fix: <command>\" line\n2. New checks for bun, .beads/, and cli.path are present\n3. `bun run typecheck` passes\n4. `bun run src/index.ts doctor` runs successfully\n\n## Quality Gates\n- `bun run typecheck` must pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-24T04:32:29.698970Z","created_by":"mat","updated_at":"2026-02-24T04:43:10.206336Z","closed_at":"2026-02-24T04:43:10.206318Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qe.2","depends_on_id":"bd-3qe","type":"parent-child","created_at":"2026-02-24T04:32:29.698970Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3qe.2","depends_on_id":"bd-3qe.1","type":"blocks","created_at":"2026-02-24T04:35:10.877885Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3qe.3","title":"Task 3: Update init skill","description":"Update the super-ralph-init skill to validate prerequisites, detect cli_path, and initialize the beads workspace.\n\n## Files to modify\n- skills/super-ralph-init/SKILL.md\n\n## Changes\n1. Add a new step after Step 1 (check existing .super-ralph) for prerequisite validation:\n   - Check bun --version. If missing: offer install command curl -fsSL https://bun.sh/install | bash\n   - Check br --version. If missing: offer install command curl -fsSL \"https://raw.githubusercontent.com/Dicklesworthstone/beads_rust/main/install.sh?$(date +%s)\" | bash\n   - Stop if user declines to install missing prereqs\n\n2. Update the config creation step (Step 4) to detect and record cli_path:\n   - Resolve ~/.agents/super-ralph/src/index.ts to absolute path\n   - Write to [cli] path in config\n   - Confirm path with user\n\n3. Add a new step after directory creation to run br init if .beads/ doesn't exist\n\n4. Update the completion report to show cli_path and beads workspace status\n\n5. Update the checklist to include:\n   - Validated bun is installed\n   - Validated br is installed\n   - cli_path detected and recorded\n   - .beads/ workspace initialized\n\n6. Update the idempotency table to include .beads/ and [cli] path entries\n\n## Acceptance Criteria\n1. Skill includes prerequisite validation with install commands\n2. Config creation step detects and records cli_path\n3. Beads workspace initialization step exists\n4. Checklist and report are updated\n\n## Quality Gates\n- No TypeScript files modified, so no typecheck needed\n- Manual review: read the skill and verify all sections are present","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-24T04:32:43.358439Z","created_by":"mat","updated_at":"2026-02-24T04:43:10.228455Z","closed_at":"2026-02-24T04:43:10.228441Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qe.3","depends_on_id":"bd-3qe","type":"parent-child","created_at":"2026-02-24T04:32:43.358439Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3qe.4","title":"Task 4: Update PRD skill launch wizards","description":"Update the launch wizard sections in all 4 PRD skills that have them. Replace npx super-ralph with bun run <cli_path>.\n\n## Files to modify\n- skills/feature-prd/SKILL.md (launch wizard around lines 672-744)\n- skills/bug-prd/SKILL.md (launch wizard around lines 377-399)\n- skills/hotfix-prd/SKILL.md (launch wizard around lines 255-267)\n- skills/refactor-prd/SKILL.md (launch wizard around lines 753-825)\n\nNote: skills/plan-prd/SKILL.md has NO launch wizard — do not modify it.\n\n## Changes (apply to ALL 4 files)\n1. Add a preamble step before the launch options: \"Read cli_path from .super-ralph/config.toml (the [cli] path field). If not set, error and tell the user to run /superralph:init.\"\n2. Replace ALL occurrences of \"npx super-ralph run\" with \"bun run <cli_path> run\"\n3. Replace ALL occurrences of \"npx super-ralph status\" with \"bun run <cli_path> status\"\n4. Rename \"Run headless\" option to \"Run now\"\n5. Change post-completion reminder from \"npx super-ralph run --epic <ID>\" to \"/superralph:resume\"\n\n## Acceptance Criteria\n1. No remaining \"npx super-ralph\" references in any of the 4 files\n2. All launch wizards include the cli_path config read preamble\n3. plan-prd/SKILL.md is NOT modified\n\n## Quality Gates\n- grep -rn \"npx super-ralph\" skills/ should return 0 results (excluding _archived/)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-24T04:32:56.030283Z","created_by":"mat","updated_at":"2026-02-24T04:43:10.247441Z","closed_at":"2026-02-24T04:43:10.247427Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qe.4","depends_on_id":"bd-3qe","type":"parent-child","created_at":"2026-02-24T04:32:56.030283Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3qe.5","title":"Task 5: Update resume command","description":"Update the superralph:resume command to use bun run <cli_path> and fix the br list --parent bug.\n\n## Files to modify\n- commands/superralph:resume.md\n\n## Changes\n1. Add a step to read cli_path from .super-ralph/config.toml before offering options\n2. Replace all \"npx super-ralph run\" with \"bun run <cli_path> run\"\n3. Replace all \"npx super-ralph status\" with \"bun run <cli_path> status\"\n4. Fix bug: the command references \"br list --parent <epicId> --json\" which doesn't exist.\n   Change to: use \"br show <epicId> --json\" to get children from dependents array,\n   and \"br ready --parent <epicId> --json --limit 1\" for the next ready bead.\n\n## Acceptance Criteria\n1. No \"npx super-ralph\" references remain\n2. cli_path config read step is present before options\n3. br commands are correct (no --parent on br list)\n\n## Quality Gates\n- grep -n \"npx super-ralph\" commands/superralph:resume.md returns 0 results\n- grep -n \"br list --parent\" commands/superralph:resume.md returns 0 results","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-24T04:33:05.267216Z","created_by":"mat","updated_at":"2026-02-24T04:43:10.267181Z","closed_at":"2026-02-24T04:43:10.267167Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qe.5","depends_on_id":"bd-3qe","type":"parent-child","created_at":"2026-02-24T04:33:05.267216Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3qe.6","title":"Task 6: Update README","description":"Update the README with prerequisites, corrected user flow, and in-agent execution description.\n\n## Files to modify\n- README.md\n\n## Changes\n1. Add a Prerequisites section after the intro listing:\n   - OpenCode (https://opencode.ai) — AI coding agent\n   - bun (https://bun.sh) — JavaScript runtime\n   - br (https://github.com/Dicklesworthstone/beads_rust) — beads CLI for task tracking\n\n2. Update Per-Project Setup to mention:\n   - Prerequisite validation (bun, br)\n   - cli_path auto-detection in config\n   - .beads/ workspace initialization\n\n3. Update Phase 2: Execution section:\n   - Explain that execution happens from inside OpenCode via the launch wizard\n   - Show the manual CLI command as an advanced option: bun run <cli_path> run --epic <ID>\n   - Remove/replace npx super-ralph references\n\n4. Update the Updating section to note cli_path stays stable across git pull\n\n## Acceptance Criteria\n1. Prerequisites section exists with all 3 tools listed\n2. No \"npx super-ralph\" references remain in README.md\n3. Phase 2 explains in-agent execution\n\n## Quality Gates\n- grep -n \"npx super-ralph\" README.md returns 0 results","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-24T04:33:16.377027Z","created_by":"mat","updated_at":"2026-02-24T04:43:10.286222Z","closed_at":"2026-02-24T04:43:10.286209Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qe.6","depends_on_id":"bd-3qe","type":"parent-child","created_at":"2026-02-24T04:33:16.377027Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-3qe.7","title":"Task 7: Verify and push","description":"Run typecheck, doctor, and dry-run to verify everything works. Then push all changes.\n\n## Steps\n1. Run `bun run typecheck` — must pass\n2. Run `bun run src/index.ts doctor` — all checks should pass\n3. Run `bun run src/index.ts run --epic bd-3fk --dry-run` — should show epic info without connecting to server\n4. Run `git push`\n\n## Acceptance Criteria\n1. Typecheck passes with 0 errors\n2. Doctor shows all green checks\n3. Dry-run works without errors\n4. Changes are pushed to origin\n\n## Quality Gates\n- bun run typecheck passes\n- bun run src/index.ts doctor passes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-24T04:34:47.930955Z","created_by":"mat","updated_at":"2026-02-24T04:43:33.416192Z","closed_at":"2026-02-24T04:43:33.416177Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3qe.7","depends_on_id":"bd-3qe","type":"parent-child","created_at":"2026-02-24T04:34:47.930955Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3qe.7","depends_on_id":"bd-3qe.1","type":"blocks","created_at":"2026-02-24T04:35:12.342603Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3qe.7","depends_on_id":"bd-3qe.2","type":"blocks","created_at":"2026-02-24T04:35:12.362181Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3qe.7","depends_on_id":"bd-3qe.3","type":"blocks","created_at":"2026-02-24T04:35:12.381545Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3qe.7","depends_on_id":"bd-3qe.4","type":"blocks","created_at":"2026-02-24T04:35:12.401371Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3qe.7","depends_on_id":"bd-3qe.5","type":"blocks","created_at":"2026-02-24T04:35:12.436211Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-3qe.7","depends_on_id":"bd-3qe.6","type":"blocks","created_at":"2026-02-24T04:35:12.454602Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-m8k","title":"E2E Test: SDK Loop Validation","description":"Test epic to validate the super-ralph OpenCode SDK execution loop end-to-end. Contains small, self-contained tasks that exercise the full pipeline: prompt rendering, agent execution, task_complete tool calls, bead closure, and progress tracking.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-23T17:03:47.828736Z","created_by":"mat","updated_at":"2026-02-24T05:04:44.497496Z","closed_at":"2026-02-24T05:04:44.497481Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-m8k.1","title":"US-001: Add quality gate commands to .super-ralph/AGENTS.md","description":"## Description\n\nThe quality gates section in .super-ralph/AGENTS.md currently has placeholder commands (commented out). Since this project now has a TypeScript codebase with `bun run typecheck` as the primary quality gate, update the quality gates section to include the actual command.\n\n## Acceptance Criteria\n\n1. Replace the commented-out placeholder commands in the Quality Gates section of `.super-ralph/AGENTS.md` with the actual project commands:\n   - Typecheck: `bun run typecheck`\n2. Keep the existing structure and explanatory text\n3. Apply the same change to `templates/agents.md` (the template copy) so future projects get the correct defaults\n\n## Quality Gates\n- `bun run typecheck` must pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T17:03:58.816677Z","created_by":"mat","updated_at":"2026-02-24T05:03:28.463048Z","closed_at":"2026-02-24T05:03:28.463027Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-m8k.1","depends_on_id":"bd-m8k","type":"parent-child","created_at":"2026-02-23T17:03:58.816677Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-m8k.2","title":"US-002: Add .gitignore entries for beads database","description":"## Description\n\nThe .beads/ directory contains a SQLite database (beads.db) that should not be tracked by git — only the JSONL file matters. Add appropriate .gitignore entries.\n\n## Acceptance Criteria\n\n1. Verify the existing .beads/.gitignore handles the database file correctly\n2. If not, update it to ignore beads.db and any WAL/SHM files (beads.db-wal, beads.db-shm)\n3. The issues.jsonl, config.yaml, and metadata.json files MUST remain tracked\n4. Verify with `git status` that no database files show as untracked\n\n## Quality Gates\n- `bun run typecheck` must pass\n- `git status` shows clean state after changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T17:04:07.112030Z","created_by":"mat","updated_at":"2026-02-24T05:03:28.488353Z","closed_at":"2026-02-24T05:03:28.488338Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-m8k.2","depends_on_id":"bd-m8k","type":"parent-child","created_at":"2026-02-23T17:04:07.112030Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-m8k.3","title":"REVIEW-001: Verify SDK loop migration completeness","description":"## Description\n\nReview the entire super-ralph codebase for any remaining stale references from the SDK loop migration. This is a fresh-eyes review — check everything systematically.\n\n## Acceptance Criteria\n\n1. Search ALL files (not just skills/) for any remaining references to:\n   - `ralph-tui` (the old execution tool) — should only appear in archived skills, old design docs, and git history\n   - `bd ` (the old Go beads CLI) — should only appear in archived skills\n   - `.ralph-tui/` (the old config directory) — should not appear in any active file\n   - `<promise>COMPLETE</promise>` (the old completion signal) — should be completely gone\n2. Document any findings in .super-ralph/progress.md\n3. If stale references are found in active files, fix them\n4. Run `bun run typecheck` to ensure no TypeScript issues\n\n## Quality Gates\n- `bun run typecheck` must pass\n- `grep -rn 'ralph-tui' commands/ skills/ src/ templates/ .super-ralph/ .opencode/ README.md` returns 0 results (excluding _archived/)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-23T17:04:18.187193Z","created_by":"mat","updated_at":"2026-02-24T05:04:44.473488Z","closed_at":"2026-02-24T05:04:44.473463Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-m8k.3","depends_on_id":"bd-m8k","type":"parent-child","created_at":"2026-02-23T17:04:18.187193Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-m8k.3","depends_on_id":"bd-m8k.1","type":"blocks","created_at":"2026-02-23T17:04:22.615413Z","created_by":"mat","metadata":"{}","thread_id":""},{"issue_id":"bd-m8k.3","depends_on_id":"bd-m8k.2","type":"blocks","created_at":"2026-02-23T17:04:22.642068Z","created_by":"mat","metadata":"{}","thread_id":""}]}
{"id":"bd-wet","title":"Smoke Test: SDK Loop","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-23T23:12:20.518503Z","created_by":"mat","updated_at":"2026-02-23T23:12:20.518503Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-wet.1","title":"Add a comment to src/types.ts","description":"Add a single-line comment at the top of src/types.ts that says '// Smoke test: SDK loop validated'. Do not change anything else. When done, call the task_complete tool with status 'complete'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-23T23:12:25.924294Z","created_by":"mat","updated_at":"2026-02-23T23:14:55.110089Z","closed_at":"2026-02-23T23:14:55.110076Z","close_reason":"done","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-wet.1","depends_on_id":"bd-wet","type":"parent-child","created_at":"2026-02-23T23:12:25.924294Z","created_by":"mat","metadata":"{}","thread_id":""}]}
